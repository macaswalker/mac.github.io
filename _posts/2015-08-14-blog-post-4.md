---
title: 'Enabling Single-Dollar Math in Jekyll (Kramdown + MathJax)'
date: 2025-09-02
permalink: /posts/2025/02/singledollarmaths
tags:
  - Mathematics Formatting
  - Jekyll
  - MathJax
  - Kramdown
---

# Enabling Single-Dollar Math in Jekyll (Kramdown + MathJax)

This guide walks through how to configure a Jekyll site so that inline math expressions written like `$x^2$` render properly. By default, GitHub‐Flavored Markdown (GFM) and Kramdown **do not** treat single‐dollar delimiters as math. Below we show how to fix that by updating your Jekyll configuration and layout.

---

## 1. Update `_config.yml`

### Where to find `_config.yml`

In most Jekyll projects, there is a file named `_config.yml` at the **root** of the repository. It typically includes site settings and Kramdown configuration.

**Before** changes, a snippet of `_config.yml` might look like this:

```yaml
# BEFORE ---------------------------------
# Example: minimal _config.yml snippet
markdown: kramdown

kramdown:
  input: GFM
  hard_wrap: false
  auto_ids: true
  footnote_nr: 1
  entity_output: as_char
  toc_levels: 1..6
  smart_quotes: lsquo,rsquo,ldquo,rdquo
  enable_coderay: false

```
We must tell Kramdown to hand off math expressions to MathJax. Add math_engine: mathjax under the kramdown: section:

```yaml
# AFTER ----------------------------------
markdown: kramdown

kramdown:
  input: GFM
  math_engine: mathjax       # <-- This line is crucial
  hard_wrap: false
  auto_ids: true
  footnote_nr: 1
  entity_output: as_char
  toc_levels: 1..6
  smart_quotes: lsquo,rsquo,ldquo,rdquo
  enable_coderay: false
  ```

This ensures Kramdown recognizes `$...$` (or `\(...\)`) as math tokens and passes them to MathJax for rendering.

## 2. Include MathJax in Your Layout

### Where to Find `_layouts/default.html`

Most Jekyll themes have a default layout file at `_layouts/default.html`. This file typically defines the main HTML structure of your site, including `<head>` and `<body>`.

Below is an example of how it might look before the changes:

<!-- BEFORE: _layouts/default.html --------------------------- -->
---
layout: compress
---
```html 
{% include base_path %}

<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>

  <body>
    {% include browser-upgrade.html %}
    {% include masthead.html %}
    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}
  </body>
</html>
```

You must do two things in the <head> section:

Configure MathJax to parse single‐dollar inline math
Load MathJax from a CDN

Here's the after version:

<!-- AFTER: _layouts/default.html ---------------------------- -->

```html
---
layout: compress
---

{% include base_path %}

<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js">
  <head>
    {% include head.html %}

    <!-- (A) Configure MathJax to parse $...$ for inline math -->
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
          displayMath: [ ['$$','$$'], ['\\[','\\]'] ]
        }
      };
    </script>

    <!-- (B) Load MathJax from a CDN (MathJax 3.x) -->
    <script
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>

    {% include head/custom.html %}
  </head>

  <body>
    {% include browser-upgrade.html %}
    {% include masthead.html %}
    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}
  </body>
</html>
```
## 2. Writing Inline and Display Math

Once the above changes are in place, you can write math in your Markdown files:
Here is some inline math: $x^2 + y^2 = z^2$.
And display math:
$$
\sum_{i=1}^n x_i
$$
When you run jekyll serve, Kramdown will parse $...$ or $$...$$, and MathJax will handle the final rendering in the browser.